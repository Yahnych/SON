!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(2),h=n(o),s=function(){function t(){a(this,t),this.overallVolume=0,this.streamDataArray=new Uint8Array(128),this.getAudio()}return r(t,[{key:"sampleAudioStream",value:function(t){t.getByteFrequencyData(this.streamDataArray);var e=0;this.streamDataArray.forEach(function(t){e+=t}),this.overallVolume=e}},{key:"getAudio",value:function(){var t=this;navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){var i=new(window.AudioContext||window.webkitAudioContext),n=i.createMediaStreamSource(e),a=i.createAnalyser();a.fftSize=256,n.connect(a),setInterval(function(){return t.sampleAudioStream(a)},1)}).catch(function(t){window.alert("Error Getting Microphone Input.",t)}):window.alert("Browser Not Supported.")}}]),t}(),u=new h.default,l=new s;u.init({containerId:"visualizer",audioSource:l}),window.addEventListener("resize",u.resizeCanvas),window.toggleTheme=function(t){u.changeTheme(t)},window.launchIntoFullScreen=function(){var t=document.getElementById("visualizer");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var i=255*t/e,n=Math.round(127*Math.sin(.024*i+0)+128),a=Math.round(127*Math.sin(.024*i+2)+128),r=Math.round(127*Math.sin(.024*i+4)+128);return"rgb("+n+", "+a+", "+r+")"}var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){var t=this,e=[],r=void 0,o=void 0,h=void 0,s=1e4,u=function(){function t(e,n,a,r){i(this,t),this.x=e,this.y=n,this.angle=Math.atan(Math.abs(n)/Math.abs(e)),this.size=a,this.ctx=r,this.high=0}return a(t,[{key:"drawCircle",value:function(){var t=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)),e=5+Math.min(Math.pow(t,2)*Math.pow(h.overallVolume,2)/24e10,t/2);h.overallVolume>s&&(s=h.overallVolume);var i=n(h.overallVolume,s);this.ctx.beginPath(),this.ctx.arc(this.x,this.y,e/5*this.size,0,2*Math.PI,!0),this.ctx.fillStyle=i,this.ctx.fill();var a=e/20*this.size;this.high-=Math.max(this.high-1e-4,0),a>this.high&&(this.high=a);var o=Math.cos(this.angle)*this.high,u=Math.sin(this.angle)*this.high;this.x+=this.x>0?o:-o,this.y+=this.y>0?u:-u;var l=r.height,c=r.width;(this.y>l||this.y<-l||this.x>c||this.x<-c)&&(this.x=Math.random()-.5,this.y=Math.random()-.5,this.angle=Math.atan(Math.abs(this.y)/Math.abs(this.x)))}}]),t}(),l=function(){var t=void 0,i=void 0,n=void 0,a=r.width/3;e=[];for(var h=0;h<a;h++)t=Math.random()-.5,i=Math.random()-.5,n=3*(Math.random()+.1),e.push(new u(t,i,n,o))};this.resizeCanvas=function(){r&&(r.width=window.innerWidth,r.height=window.innerHeight,o.translate(r.width/2,r.height/2),l())};var c=function(){var t=n(h.overallVolume,s);o.beginPath(),o.arc(0,0,5,0,2*Math.PI,!0),o.fillStyle=t,o.fill()},d=function t(){o.clearRect(-r.width,-r.height,2*r.width,2*r.height),e.forEach(function(t){t.drawCircle()}),c(),window.requestAnimationFrame(t)};this.init=function(e){h=e.audioSource;var i=document.getElementById(e.containerId);r=document.createElement("canvas"),o=r.getContext("2d"),i.appendChild(r),l(),t.resizeCanvas(),d()}};t.exports=r}]);