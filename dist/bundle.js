!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),u=i(o),s=function(){function e(){r(this,e),this.overallVolume=0,this.streamDataArray=new Uint8Array(128),this.getAudio()}return a(e,[{key:"sampleAudioStream",value:function(e){e.getByteFrequencyData(this.streamDataArray);var t=0;this.streamDataArray.forEach(function(e){t+=e}),this.overallVolume=t}},{key:"getAudio",value:function(){var e=this;navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){var n=new(window.AudioContext||window.webkitAudioContext),i=n.createMediaStreamSource(t),r=n.createAnalyser();r.fftSize=256,i.connect(r),setInterval(function(){return e.sampleAudioStream(r)},1)}).catch(function(e){window.alert("Error Getting Microphone Input.",e)}):window.alert("Browser Not Supported.")}}]),e}(),c=new u.default,l=new s;c.init({containerId:"visualizer",audioSource:l}),window.addEventListener("resize",c.resizeCanvas),window.toggleTheme=function(e){c.changeTheme(e)},window.launchIntoFullScreen=function(){var e=document.getElementById("visualizer");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){n=n>e[1]?e[1]:n<e[0]?e[0]:n;var i=(n-e[0])/(e[1]-e[0]);return i*(t[1]-t[0])+t[0]}function r(e,t){var n=255*e/t,i=Math.round(127*Math.sin(.024*n+0)+128),r=Math.round(127*Math.sin(.024*n+2)+128),a=Math.round(127*Math.sin(.024*n+4)+128);return"rgb("+i+", "+r+", "+a+")"}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var e=Math.max(h.overallVolume),t=r(h.overallVolume,f);s.push(new v(0,0,0,e,t))}function t(n){l.clearRect(-c.width,-c.height,2*c.width,2*c.height);var i=500;d||(d=n);var r=n-d;r>i&&(e(),d=0),s.forEach(function(e){e.drawCircle()}),window.requestAnimationFrame(t)}function o(){s=[],d=null}var u=this,s=[],c=void 0,l=void 0,h=void 0,d=void 0,f=1e4,v=function(){function e(t,i,r,a,o){n(this,e),this.x=t,this.y=i,this.radius=r,this.angle=Math.atan(Math.abs(i)/Math.abs(t)),this.intensity=a,this.color=o,this.high=0}return a(e,[{key:"drawCircle",value:function(){var e=Math.max(c.width,c.height)/2;this.radius>e&&s.shift();var t=i([0,1e4],[0,3],this.intensity),n=this.radius*t;l.beginPath(),l.lineWidth=i([0,1e4],[0,10],this.intensity),l.globalAlpha=i([0,e],[1,0],n),l.strokeStyle=this.color,l.arc(this.x,this.y,n,0,2*Math.PI,!0),l.stroke(),this.radius++}}]),e}();this.resizeCanvas=function(){c&&(c.width=window.innerWidth,c.height=window.innerHeight,l.translate(c.width/2,c.height/2),o())},this.init=function(e){h=e.audioSource;var n=document.getElementById(e.containerId);c=document.createElement("canvas"),l=c.getContext("2d"),n.appendChild(c),o(),u.resizeCanvas(),t()}};e.exports=o}]);