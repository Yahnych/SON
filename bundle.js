!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),u=i(o),s=function(){function t(){r(this,t),this.overallVolume=0,this.streamDataArray=new Uint8Array(128),this.getAudio()}return a(t,[{key:"sampleAudioStream",value:function(t){t.getByteFrequencyData(this.streamDataArray);var e=0;this.streamDataArray.forEach(function(t){e+=t}),this.overallVolume=e}},{key:"getAudio",value:function(){var t=this;navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){var n=new(window.AudioContext||window.webkitAudioContext),i=n.createMediaStreamSource(e),r=n.createAnalyser();r.fftSize=256,i.connect(r),setInterval(function(){return t.sampleAudioStream(r)},1)}).catch(function(t){window.alert("Error Getting Microphone Input.",t)}):window.alert("Browser Not Supported.")}}]),t}(),c=new u.default,h=new s;c.init({containerId:"visualizer",audioSource:h}),window.addEventListener("resize",c.resizeCanvas)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){n=n>t[1]?t[1]:n<t[0]?t[0]:n;var i=(n-t[0])/(t[1]-t[0]);return i*(e[1]-e[0])+e[0]}function r(t,e){var n=255*t/e,i=Math.round(127*Math.sin(.024*n+0)+128),r=Math.round(127*Math.sin(.024*n+2)+128),a=Math.round(127*Math.sin(.024*n+4)+128);return"rgb("+i+", "+r+", "+a+")"}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var t=Math.max(l.overallVolume),e=r(l.overallVolume,f);s.push(new v(0,0,0,t,e))}function e(n){h.clearRect(-c.width,-c.height,2*c.width,2*c.height);var i=500;d||(d=n);var r=n-d;r>i&&(t(),d=0),s.forEach(function(t){t.drawCircle()}),window.requestAnimationFrame(e)}function o(){s=[],d=null}var u=this,s=[],c=void 0,h=void 0,l=void 0,d=void 0,f=1e4,v=function(){function t(e,i,r,a,o){n(this,t),this.x=e,this.y=i,this.radius=r,this.angle=Math.atan(Math.abs(i)/Math.abs(e)),this.intensity=a,this.color=o,this.high=0}return a(t,[{key:"drawCircle",value:function(){var t=Math.max(c.width,c.height)/2,e=i([0,1e4],[0,3],this.intensity),n=this.radius*e;if(n>t){var r=s.indexOf(this);r>-1&&s.splice(r,1)}h.beginPath(),h.lineWidth=i([0,1e4],[0,10],this.intensity),h.globalAlpha=i([0,t],[1,0],n),h.strokeStyle=this.color,h.arc(this.x,this.y,n,0,2*Math.PI,!0),h.stroke(),this.radius++}}]),t}();this.resizeCanvas=function(){c&&(c.width=window.innerWidth,c.height=window.innerHeight,h.translate(c.width/2,c.height/2),o())},this.init=function(t){l=t.audioSource;var n=document.getElementById(t.containerId);c=document.createElement("canvas"),h=c.getContext("2d"),n.appendChild(c),o(),u.resizeCanvas(),e()}};t.exports=o}]);